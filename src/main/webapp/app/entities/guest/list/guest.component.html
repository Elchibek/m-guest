<div class="row table-responsive">
  <div class="mt-2 col-xl-3 col-lg-6 col-md-12 col-12">
    <div class="card">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <div>
            <h4 class="mb-0">Квартира</h4>
          </div>
          <div class="icon-shape icon-md bg-light-primary text-primary rounded-2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="18" height="18" fill="currentColor">
              <path
                d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v8A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-8A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5zm1.886 6.914L15 7.151V12.5a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5V7.15l6.614 1.764a1.5 1.5 0 0 0 .772 0zM1.5 4h13a.5.5 0 0 1 .5.5v1.616L8.129 7.948a.5.5 0 0 1-.258 0L1 6.116V4.5a.5.5 0 0 1 .5-.5z"
              ></path>
            </svg>
          </div>
        </div>
        <div>
          <h1 class="fw-bold">18</h1>
          <p class="mb-0"><span classname="text-dark me-2">2</span> Completed</p>
        </div>
      </div>
    </div>
  </div>
  <div class="mt-2 col-xl-3 col-lg-6 col-md-12 col-12">
    <div class="card">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <div>
            <h4 class="mb-0">Конок саны</h4>
          </div>
          <div class="icon-shape icon-md bg-light-primary text-primary rounded-2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="18" height="18" fill="currentColor">
              <path
                d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"
              ></path>
            </svg>
          </div>
        </div>
        <div>
          <h1 class="fw-bold">
            <fa-icon class="p-1" icon="user"></fa-icon>
            {{ gStatic?.countPerson }}
          </h1>
          <p class="mb-0"><span classname="text-dark me-2">28</span> Completed</p>
        </div>
      </div>
    </div>
  </div>
  <div class="mt-2 col-xl-3 col-lg-6 col-md-12 col-12">
    <div class="card">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <div>
            <h4 class="mb-0">Блоктогу адам саны</h4>
          </div>
          <div class="icon-shape icon-md bg-light-primary text-primary rounded-2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="18" height="18" fill="currentColor">
              <path
                d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"
              ></path>
            </svg>
          </div>
        </div>
        <div>
          <h1 class="fw-bold">12</h1>
          <p class="mb-0"><span classname="text-dark me-2">1</span> Completed</p>
        </div>
      </div>
    </div>
  </div>
  <div class="mt-2 col-xl-3 col-lg-6 col-md-12 col-12">
    <div class="card">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <div>
            <h4 class="mb-0" jhiTranslate="guestApp.guest.totalPrice">Жалпы суммасы</h4>
          </div>
          <div class="icon-shape icon-md bg-light-primary text-primary rounded-2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="18" height="18" fill="currentColor">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
              <path d="M8 13A5 5 0 1 1 8 3a5 5 0 0 1 0 10zm0 1A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"></path>
              <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"></path>
              <path d="M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path>
            </svg>
          </div>
        </div>
        <div>
          <h1 class="fw-bold">${{ gStatic?.totalPrice }}</h1>
          <p class="mb-0">
            <span classname="text-dark me-2">{{ gStatic?.totalDidntPay }}</span> Completed
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="mt-3">
  <h3 style="text-align: center">{{ getTableTitle() }}</h3>
  <form name="searchForm" class="row row-cols-sm-auto align-items-center">
    <div class="col-sm-12">
      <div class="input-group w-100 mt-3 mb-3">
        <label class="visually-hidden" for="currentSearch" jhiTranslate="guestApp.tseg.home.search">Search for Guest</label>
        <input type="text" class="form-control" [(ngModel)]="currentSearch" id="currentSearch" name="currentSearch" placeholder="Search" />

        <button class="btn btn-info" (click)="search(currentSearch)">
          <fa-icon icon="search"></fa-icon>
        </button>

        <button class="btn btn-danger" (click)="search('')" *ngIf="currentSearch">
          <fa-icon icon="trash-alt"></fa-icon>
        </button>
      </div>
    </div>
  </form>

  <h2 id="page-heading" data-cy="GuestHeading">
    <div class="d-flex justify-content-end">
      <div ngbDropdown class="d-inline-block me-2">
        <a class="btn btn-secondary dropdown-toggle" ngbDropdownToggle href="javascript:void(0);">
          <span>
            <fa-icon icon="tasks"></fa-icon>
          </span>
        </a>
        <ul class="dropdown-menu" ngbDropdownMenu>
          <li class="mb-3" style="margin-left: 5px; margin-right: 5px">
            <input type="text" class="form-control mr-5 ml-5" [(ngModel)]="selectedTabKey" (input)="filterTabKeys()" placeholder="Search" />
          </li>
          <hr />
          <li>
            <label class="form-check-label w-100">
              <a class="dr-item form-check-label">
                <input type="checkbox" (change)="onchange($event, 0, true)" checked />
                <small jhiTranslate="guestApp.guest.selectAll">Select all</small>
              </a>
            </label>
          </li>
          <hr />
          <li *ngFor="let key of fileterdTabKeys; index as i">
            <label class="form-check-label w-100">
              <a class="dr-item form-check-label">
                <input type="checkbox" (change)="onchange($event, i, false)" [checked]="key.selected" />
                <small jhiTranslate="{{ key.translate }}">{{ key.name }}</small>
              </a>
            </label>
          </li>
        </ul>
      </div>
      <div>
        <button
          id="jh-create-entity"
          data-cy="entityCreateButton"
          class="btn btn-primary jh-create-entity create-guest me-2"
          [routerLink]="['/guest-static']"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-bar-chart-line"
            viewBox="0 0 16 16"
          >
            <path
              d="M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1zm1 12h2V2h-2zm-3 0V7H7v7zm-5 0v-3H2v3z"
            />
          </svg>
        </button>
      </div>
      <div>
        <button
          id="jh-archive-entity"
          data-cy="entityArchiveButton"
          class="btn btn-primary jh-create-entity create-guest me-2"
          (click)="getArchive()"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-archive" viewBox="0 0 16 16">
            <path
              d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5zm13-3H1v2h14zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"
            />
          </svg>
        </button>
      </div>
      <div>
        <button type="button" class="btn btn-warning me-2" (click)="showFilter()">
          <svg
            style="vertical-align: baseline"
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-filter-square-fill"
            viewBox="0 0 16 16"
          >
            <path
              d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm.5 5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1 0-1M4 8.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m2 3a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5"
            />
          </svg>
        </button>
      </div>
      <div class="ml-auto">
        <button class="btn btn-info me-2" (click)="load()" [disabled]="isLoading">
          <fa-icon icon="sync" [spin]="isLoading"></fa-icon>
        </button>
      </div>
      <div>
        <button
          id="jh-create-entity"
          data-cy="entityCreateButton"
          class="btn btn-primary jh-create-entity create-guest"
          [routerLink]="['/guest/new']"
        >
          <fa-icon icon="plus"></fa-icon>
          <span class="h2s" jhiTranslate="guestApp.guest.home.createLabel">Create a new Guest</span>
        </button>
      </div>
      <div>
        <button class="btn btn-info" (click)="saveToDoc('docx')">Save to doc</button>
      </div>
    </div>
  </h2>

  <form name="filterForm" role="form" novalidate (ngSubmit)="searchFilter()" [formGroup]="filterForm" class="mb-3" *ngIf="isFilter">
    <div class="row mb-1">
      <div class="col-md-2 mb-1">
        <select
          class="form-select"
          id="field_userId"
          data-cy="userId"
          id="field_userId"
          data-cy="userId"
          name="userId"
          formControlName="userId"
        >
          <option *ngIf="!filterForm.get('userId')!.value" [ngValue]="null" jhiTranslate="userManagement.home.title" selected>
            Колдонуучу
          </option>
          <option *ngIf="filterForm.get('userId')!.value" [ngValue]="null" jhiTranslate="guestApp.guest.selectAll" selected>
            Выбрать все
          </option>
          <option [ngValue]="user.id" *ngFor="let user of users">{{ user.firstName }} {{ user.lastName }}</option>
        </select>
      </div>
      <div class="col-md-2 mb-1">
        <select
          class="form-select"
          id="field_guestFromId"
          data-cy="guestFromId"
          id="field_guestFromId"
          data-cy="guestFromId"
          name="guestFromId"
          formControlName="guestFromId"
        >
          <option *ngIf="!filterForm.get('guestFromId')!.value" [ngValue]="null" jhiTranslate="guestApp.guest.guestFrom" selected>
            Мекеме
          </option>
          <option *ngIf="filterForm.get('guestFromId')!.value" [ngValue]="null" jhiTranslate="guestApp.guest.selectAll" selected>
            Выбрать все
          </option>
          <option [ngValue]="guestFromOption.id" *ngFor="let guestFromOption of guestFromsSharedCollection">
            {{ guestFromOption.name }}
          </option>
        </select>
      </div>
      <div class="col-md-2 mb-1">
        <select
          (ngModelChange)="getGuestBlockId($event)"
          class="form-select"
          id="field_guestBlockId"
          data-cy="guestBlockId"
          name="guestBlockId"
          formControlName="guestBlockId"
        >
          <option *ngIf="!filterForm.get('guestBlockId')!.value" [ngValue]="null" jhiTranslate="guestApp.guest.guestBlock" selected>
            Блок
          </option>
          <option *ngIf="filterForm.get('guestBlockId')!.value" [ngValue]="null" jhiTranslate="guestApp.guest.selectAll">
            Выбрать все
          </option>
          <option [ngValue]="guestBlockOption.id" *ngFor="let guestBlockOption of guestBlocksSharedCollection">
            {{ guestBlockOption.name }}
          </option>
        </select>
      </div>
      <div class="col-md-2 mb-1">
        <select
          (ngModelChange)="getEntranceId($event)"
          class="form-select"
          id="field_entranceId"
          data-cy="entranceId"
          name="entranceId"
          formControlName="entranceId"
        >
          <option *ngIf="!filterForm.get('entranceId')!.value" [ngValue]="null" jhiTranslate="guestApp.guest.entrance" selected>
            Кире бериш
          </option>
          <option *ngIf="filterForm.get('entranceId')!.value" [ngValue]="null" jhiTranslate="guestApp.guest.selectAll" selected>
            Выберите все
          </option>
          <option [ngValue]="entranceOption.id" *ngFor="let entranceOption of entrancesSharedCollection">
            {{ entranceOption.name }} {{ entranceOption.numEntrance }}
          </option>
        </select>
      </div>
      <div class="col-md-2 mb-1">
        <select
          (ngModelChange)="getFloorId($event)"
          class="form-select"
          id="field_floorId"
          data-cy="floorId"
          name="floorId"
          formControlName="floorId"
        >
          <option *ngIf="!filterForm.get('floorId')!.value" [ngValue]="null" jhiTranslate="guestApp.guest.floor" selected>Кабат</option>
          <option *ngIf="filterForm.get('floorId')!.value" [ngValue]="null" jhiTranslate="guestApp.guest.selectAll" selected>
            Выбрать все
          </option>
          <option [ngValue]="floorOption.id" *ngFor="let floorOption of floorsSharedCollection">
            {{ floorOption.numFloor }}
          </option>
        </select>
      </div>
      <div class="col-md-2 mb-1" style="padding-right: 1%">
        <select class="form-select" id="field_houseId" data-cy="houseId" name="houseId" formControlName="houseId">
          <option *ngIf="!filterForm.get('houseId')!.value" [ngValue]="null" jhiTranslate="guestApp.guest.guestHouse" selected>
            Батир
          </option>
          <option *ngIf="filterForm.get('houseId')!.value" [ngValue]="null" selected>Выбрать все</option>
          <option [ngValue]="guestHouseOption.id" *ngFor="let guestHouseOption of guestHousesSharedCollection">
            {{ guestHouseOption.name }} {{ guestHouseOption.numHouse }}
          </option>
        </select>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md-2 mb-2">
        <select class="form-select" id="field_typeDate" data-cy="typeDate" name="typeDate" formControlName="typeDate">
          <option value="between" [selected]="true">
            {{ 'guestApp.guest.startDate' | translate }} / {{ 'guestApp.guest.endDate' | translate }}
          </option>
          <option value="betweenStartDate" jhiTranslate="guestApp.guest.startDate">Start Date</option>
          <option value="betweenEndDate" jhiTranslate="guestApp.guest.endDate">End Date</option>
        </select>
      </div>
      <div class="col-md-3 mb-2">
        <div class="d-flex">
          <input id="field_startDate" data-cy="startDate" type="date" class="form-control" name="startDate" formControlName="startDate" />
        </div>
      </div>
      <div class="col-md-3 mb-2">
        <div class="d-flex">
          <input
            id="field_endDate"
            data-cy="endDate"
            type="date"
            class="form-control"
            [min]="filterForm.get('startDate')!.value"
            name="endDate"
            formControlName="endDate"
            placeholder="YYYY-MM-DD"
          />
        </div>
      </div>
      <div class="col-md-2 mb-2">
        <select id="field_isPaid" data-cy="isPaid" type="datetime-local" class="form-control" name="isPaid" formControlName="isPaid">
          <option *ngIf="!filterForm.get('isPaid')!.value" [ngValue]="null" selected>Status</option>
          <option *ngIf="filterForm.get('isPaid')!.value" [ngValue]="null" jhiTranslate="guestApp.guest.selectAll" selected>
            Выбрать все
          </option>
          <option value="true" jhiTranslate="guestApp.guest.filter.paid">Төлөнгөн</option>
          <option value="false" jhiTranslate="guestApp.guest.filter.unpaid">Төлөнгөнбөгөн</option>
        </select>
      </div>
      <div class="col-md-2 mb-2" style="padding-right: 1%">
        <select id="field_isDeleted" data-cy="isDeleted" class="form-control" name="isDeleted" formControlName="isDeleted">
          <option *ngIf="!filterForm.get('isDeleted')!.value" [ngValue]="null" selected>UPD</option>
          <option *ngIf="filterForm.get('isDeleted')!.value" [ngValue]="null" selected>Выбрать все</option>
          <option value="true">Жок кылынгандар</option>
          <option value="false">Озгортулгондор</option>
        </select>
      </div>
      <div class="col-md-2 mb-2">
        <select class="form-select" id="field_typeBetween" data-cy="typeBetween" name="typeBetween" formControlName="typeBetween">
          <option value="betweenPesrson" jhiTranslate="guestApp.guest.countPerson" [selected]="true">Pesron</option>
          <option value="betweenPrice" jhiTranslate="guestApp.guest.price">Price</option>
          <option value="betweenTotalPrice" jhiTranslate="guestApp.guest.totalPrice">Total price</option>
          <option value="betweenRestOfTheDay" jhiTranslate="guestApp.guest.restOfTheDay">Калган куну</option>
        </select>
      </div>
      <div class="col-md-3 mb-2">
        <input
          type="number"
          class="form-control"
          min="0"
          name="from"
          id="field_from"
          data-cy="from"
          formControlName="from"
          (input)="formatInput($any($event).target)"
          placeholder="{{ 'guestApp.guest.filter.from' | translate }}"
        />
      </div>
      <div class="col-md-3 mb-2">
        <input
          type="number"
          class="form-control"
          min="0"
          name="before"
          id="field_before"
          data-cy="before"
          formControlName="before"
          (input)="formatInput($any($event).target)"
          placeholder="{{ 'guestApp.guest.filter.before' | translate }}"
        />
      </div>
      <div class="col-md-2 mb-1">
        <button type="button" class="btn btn-danger" (click)="clearFilter(true)" style="width: 100%">
          <fa-icon icon="trash-alt"></fa-icon>
          Тазала
        </button>
      </div>
      <div class="col-md-2 mb-2">
        <button type="submit" class="btn btn-info" style="width: 100%">
          <fa-icon icon="search"></fa-icon>
          Изде
        </button>
      </div>
    </div>
  </form>

  <jhi-alert-error></jhi-alert-error>

  <jhi-alert></jhi-alert>

  <div class="alert alert-warning" id="no-result" *ngIf="guests?.length === 0">
    <span jhiTranslate="guestApp.guest.home.notFound">No Guests found</span>
  </div>

  <div class="table-responsive table-entities table-bordered text-nowrap mtop" id="entities" *ngIf="guests && guests.length > 0">
    <table class="table table-striped table-bordered" aria-describedby="page-heading">
      <thead>
        <tr jhiSort [(predicate)]="predicate" [(ascending)]="ascending" (sortChange)="navigateToWithComponentValues()">
          <ng-container *ngFor="let key of tabKeys; index as i">
            <th scope="col" jhiSortBy="{{ key.sortBy }}" class="cl cl{{ i }}">
              <div class="d-flex">
                <span jhiTranslate="{{ key.translate }}">{{ key.name }}</span>
                <fa-icon class="p-1" icon="sort" *ngIf="key.sortBy"></fa-icon>
              </div>
            </th>
          </ng-container>
          <th scope="col" class="cl"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let guest of guests; trackBy: trackId; index as i" data-cy="entityTable">
          <td class="cl cl0">{{ (page - 1) * itemsPerPage + (i + 1) }}</td>
          <td class="cl cl1">
            <div *ngIf="guest.guestFrom">{{ guest.guestFrom.name }}</div>
          </td>
          <td class="cl cl2">
            <div *ngIf="guest.guestBlock">{{ guest.guestBlock.name }}</div>
          </td>
          <td class="cl cl3">
            <div *ngIf="guest.entrance">{{ guest.entrance.name }}{{ guest.entrance.numEntrance }}</div>
          </td>
          <td class="cl cl4">
            <div *ngIf="guest.floor">{{ guest.floor.numFloor }}</div>
          </td>
          <td class="cl cl5">
            <div *ngIf="guest.guestHouse">{{ guest.guestHouse.name }}</div>
          </td>
          <td class="cl cl6">{{ guest.name }}</td>
          <td class="cl cl7">{{ guest.guestInstitution }}</td>
          <td class="cl cl8">{{ guest.responsible }}</td>
          <td class="cl cl9">{{ guest.explanation }}</td>
          <td class="cl cl10">{{ guest.startDate | formatMediumDatetime }}</td>
          <td class="cl cl11">{{ guest.endDate | formatMediumDatetime }}</td>
          <td class="cl cl12">
            <div style="margin-top: 6px">
              <div class="progress position-relative" *ngIf="guest.num">
                <div
                  class="progress-bar bg-success"
                  role="progressbar"
                  [ngStyle]="{ width: (guest.num! / guest.willStay!) * 100 + '%' }"
                  aria-valuenow="25"
                  aria-valuemin="0"
                  aria-valuemax="100"
                ></div>
                <small class="justify-content-center d-flex position-absolute w-100"> {{ guest.num }} / {{ guest.willStay }} </small>
              </div>
            </div>
          </td>
          <td class="cl cl13">
            <fa-icon class="p-1" icon="user" [style.color]="guest.isPaid ? 'green' : 'red'"></fa-icon>
            {{ guest.countPerson }}
            <ng-container *ngIf="guest.countDidntPay! > 0">
              / <span style="color: red">{{ guest.countDidntPay }}</span>
            </ng-container>
          </td>
          <td class="cl cl14"><b>$</b>{{ guest.price }}</td>
          <td class="cl cl15"><b>$</b>{{ guest.totalPrice }}</td>
          <td class="cl cl16">
            <span class="badge bg-info">{{ guest.user?.firstName }} {{ guest.user?.lastName }}</span>
          </td>
          <td class="cl text-end cl17">
            <div class="">
              <a
                *ngIf="!guest.isChange"
                [routerLink]="['/guest', guest.id, 'view']"
                class="btn btn-info btn-sm"
                data-cy="entityDetailsButton"
              >
                <fa-icon icon="eye"></fa-icon>
                <!-- <span class="d-none d-md-inline" jhiTranslate="entity.action.view">View</span> -->
              </a>
              <a
                *ngIf="!guest.isChange && !guest.isArchive && !guest.isDeleted"
                [routerLink]="['/guest', guest.id, 'edit']"
                class="btn btn-primary btn-sm"
                data-cy="entityEditButton"
              >
                <fa-icon icon="pencil-alt"></fa-icon>
                <!-- <span class="d-none d-md-inline" jhiTranslate="entity.action.edit">Edit</span> -->
              </a>
              <button
                *ngIf="!guest.isChange && !guest.isArchive && !guest.isDeleted"
                type="submit"
                (click)="delete(guest, true, false)"
                class="btn btn-sm"
                data-cy="entityDeleteButton"
                style="background-color: #a8bfd8"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-archive"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5zm13-3H1v2h14zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"
                  />
                </svg>
                <!-- <span class="d-none d-md-inline">Архивдөө</span> -->
              </button>
              <ng-container *jhiHasAnyAuthority="'ROLE_ADMIN'">
                <button
                  *ngIf="!guest.isArchive && guest.isUpdate"
                  type="button"
                  (click)="searchFilter(guest.id, guest.isDeleted!)"
                  class="btn btn-success btn-sm"
                  style="color: white"
                >
                  <fa-icon icon="tasks"></fa-icon>
                </button>
              </ng-container>
              <button
                *ngIf="!guest.isArchive && guest.isDeleted && !guest.isChange"
                type="button"
                (click)="delete(guest, false, true)"
                class="btn btn-success btn-sm"
                data-cy="entityDeleteButton"
              >
                <!-- License: CC Attribution. Made by FortAwesome: https://github.com/FortAwesome/Font-Awesome -->
                <svg width="16" height="16" viewBox="-32 0 512 512" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm91.31-172.8l89.38-94.26a15.41 15.41 0 0 1 22.62 0l89.38 94.26c10.08 10.62 2.94 28.8-11.32 28.8H256v112a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V320h-57.37c-14.26 0-21.4-18.18-11.32-28.8zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                  />
                </svg>
              </button>
              <button
                *ngIf="!guest.isArchive && !guest.isChange"
                type="submit"
                (click)="delete(guest, false, false)"
                class="btn btn-danger btn-sm"
                data-cy="entityDeleteButton"
              >
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                  <path
                    d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"
                  />
                  <path
                    d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"
                  />
                </svg>
                <!-- <span class="d-none d-md-inline" jhiTranslate="entity.action.delete">Delete</span> -->
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="guests && guests.length > 0">
    <div class="d-flex justify-content-center" style="margin-top: 10px">
      <ngb-pagination
        [collectionSize]="totalItems"
        [page]="page"
        [pageSize]="itemsPerPage"
        [maxSize]="3"
        [rotate]="true"
        [boundaryLinks]="false"
        (pageChange)="navigateToPage($event)"
      ></ngb-pagination>
    </div>
  </div>

  <jhi-guest-chart></jhi-guest-chart>
</div>
